{% extends 'base.html' %}
{% block title %}
    Currency exchange page
{% endblock %}

{% block content %}
<link rel="stylesheet" href="static/datatables.min.css"/>
    <div id="curr_exc_id" class="row" style="margin-top:20px; margin-left:30px; margin-right:30px">
        <div id="excRate"class="col-6">
            <h1 style="text-align:center">Exchange rates table</h1>
            <br>
            <table id="exchange_rates" class="table table-hover table-light" style="text-align:center; color:white;">
                <thead>
                    <tr>
                        <th scope="col" class="trans_history_th" style="width:50%">Currency</th>
                        <th scope="col" class="trans_history_th" style="width:50%">Exchange rate</th>
                    </tr>
                </thead>
                <tbody>
                    {% for key, value in table.items() %}
                        <tr>
                            <td class="trans_history_td">{{ key }}</td>
                            <td class="trans_history_td">{{ value }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table><br>
        </div>
        <div id="excRate_form"class="col-6">
            <h1 style="text-align:center">Exchange</h1>
            <br>
            <div style="margin-left:50px; margin-right:30px">
                <form method="POST" class="form-exchange">
                    {{ form.hidden_tag() }}
                    <table style="width:100%">
                        <tr>
                            <td style="width:15%"><p style="color:white"><b>From: </b></p></td>
                            <td style="text-align:center; width:60%">{{ form.from_currency(class="form-control") }}</td>
                            <td style="text-align:right; width:25%">{{ form.refresh(class="btn btn-info") }}</td>
                        </tr>
                    </table><br><br>

                    <table style="width:100%">
                        <tr style="height:50%">
                            <td style="width:15%"><p style="color:white"><b>To: </b></p></td>
                            <td style="width:85%">{{ form.to_currency(class="form-control") }}</td>
                        </tr>
                    </table><br><br>

                    <table style="width:100%">
                        <tr style="height:50%">
                            <td style="width:15%"><p style="color:white"><b>Amount: </b></p></td>
                            <td style="width:85%">{{ form.amount(class="form-control") }}</td>
                        </tr>
                    </table><br><br>
                    
                    {{ form.submit(class="btn btn-lg btn-block btn-success", style="float: right; width:85%") }}
                </form>
            </div>
        </div>
    </div>
    <script src="static/jquery-3.6.0.min.js"></script>
    <script src="static/datatables.min.js"></script>
    <script>
        $(document).ready( function () {
            $.noConflict();
            var table1 = $('#exchange_rates').DataTable()
        } );
    </script>
 {% endblock %}